version: 2

jobs:
  dependencies:
    pre:
      - apt-get update && apt-get install -y sudo && -rf /var/lib/apt/lists/*
      - apt-get update && apt-get install -y gcc g++
      - apt-get update && sudo apt-get install -y cmake

  build:
    - run:
        name: Creating Build Files
        command: 'cmake -H. -Bbuild'
    - run:
        name: Creating Binary Files
        command: 'cmake --build build'

  tests:
    - run:
        name: Execute Tests
        command: './bin/point_test'